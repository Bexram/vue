{"remainingRequest":"/Users/vladislavkitaev/calendar_project_new/node_modules/babel-loader/lib/index.js!/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/vladislavkitaev/calendar_project_new/src/components/v-change-popup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/vladislavkitaev/calendar_project_new/src/components/v-change-popup.vue","mtime":1604007527488},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3ZsYWRpc2xhdmtpdGFldi9jYWxlbmRhcl9wcm9qZWN0X25ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgYnVzIH0gZnJvbSAnLi9idXMuanMnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3YtY2hhbmdlLXBvcHVwJywKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNyZWF0ZU5ld1VzZXI6IGZhbHNlLAogICAgICB1c2VySWQ6IG51bGwsCiAgICAgIG5ld1VzZXI6IHsKICAgICAgICAiaWQiOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VycywKICAgICAgICAidXNlcm5hbWUiOiBudWxsLAogICAgICAgICJmaXJzdF9uYW1lIjogbnVsbCwKICAgICAgICAibGFzdF9uYW1lIjogbnVsbCwKICAgICAgICAiZW1haWwiOiBudWxsLAogICAgICAgICJpc19hY3RpdmUiOiBudWxsLAogICAgICAgICJ1c2VycHJvZmlsZSI6IHsKICAgICAgICAgICJpZCI6IG51bGwsCiAgICAgICAgICAidGhpcmRuYW1lIjogbnVsbCwKICAgICAgICAgICJwb3NpdGlvbiI6IG51bGwsCiAgICAgICAgICAidGVsZXBob25lIjogbnVsbCwKICAgICAgICAgICJiaXJ0aGRheSI6IG51bGwsCiAgICAgICAgICAicGFzc3BvcnQiOiBudWxsLAogICAgICAgICAgInVzZXIiOiBudWxsCiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsnR0VUX1VTRVJTX0ZST01fQVBJJ10pKSwge30sIHsKICAgIGdldEluZGV4OiBmdW5jdGlvbiBnZXRJbmRleChpbmRleCkgewogICAgICB0aGlzLnVzZXJJZCA9IGluZGV4OwogICAgICBjb25zb2xlLmxvZygnUG9wdXAgZ2V0JywgdGhpcy51c2VySWQpOwogICAgfSwKICAgIHRvQ3JlYXRlTmV3VXNlcjogZnVuY3Rpb24gdG9DcmVhdGVOZXdVc2VyKGRhdGEpIHsKICAgICAgdGhpcy5jcmVhdGVOZXdVc2VyID0gZGF0YTsKICAgIH0sCiAgICB0b0FkZE5ld1VzZXI6IGZ1bmN0aW9uIHRvQWRkTmV3VXNlcigpIHsKICAgICAgdmFyIHVzZXIgPSB0aGlzLm5ld1VzZXI7CiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2VycycsIHVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgcmV0dXJuIGVycm9yOwogICAgICB9KTsKICAgICAgYnVzLiRlbWl0KCdzZW5kTmV3VXNlclRvVGFibGUnLCB0aGlzLm5ld1VzZXIpOwogICAgICBidXMuJGVtaXQoJ2FkZE5ld1VzZXInLCBmYWxzZSk7CiAgICB9LAogICAgY2xvc2VQb3B1cDogZnVuY3Rpb24gY2xvc2VQb3B1cCgpIHsKICAgICAgYnVzLiRlbWl0KCdjbG9zZVdpbmRvdycsIGZhbHNlKTsKICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5HRVRfVVNFUlNfRlJPTV9BUEkoKTsKICAgIGJ1cy4kb24oJ3NlbmRJbmRleCcsIHRoaXMuZ2V0SW5kZXgpOwogICAgYnVzLiRvbignYWRkTmV3VXNlcicsIHRoaXMudG9DcmVhdGVOZXdVc2VyKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnVVNFUlMnXSkpCn07"},{"version":3,"sources":["v-change-popup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,SAAA,GAAA,QAAA,UAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAIA,EAAA,KAAA,EAAA,EAJA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,KADA;AAEA,MAAA,MAAA,EAAA,IAFA;AAGA,MAAA,OAAA,EAAA;AACA,cAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KADA;AAEA,oBAAA,IAFA;AAGA,sBAAA,IAHA;AAIA,qBAAA,IAJA;AAKA,iBAAA,IALA;AAMA,qBAAA,IANA;AAOA,uBAAA;AACA,gBAAA,IADA;AAEA,uBAAA,IAFA;AAGA,sBAAA,IAHA;AAIA,uBAAA,IAJA;AAKA,sBAAA,IALA;AAMA,sBAAA,IANA;AAOA,kBAAA;AAPA;AAPA;AAHA,KAAA;AAqBA,GA5BA;AA8BA,EAAA,OAAA,kCACA,UAAA,CAAA,CACA,oBADA,CAAA,CADA;AAIA,IAAA,QAJA,oBAIA,KAJA,EAIA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,WAAA,EAAA,KAAA,MAAA;AACA,KAPA;AAQA,IAAA,eARA,2BAQA,IARA,EAQA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,KAVA;AAWA,IAAA,YAXA,0BAWA;AACA,UAAA,IAAA,GAAA,KAAA,OAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,6BAAA,EAAA,IAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,eAAA,QAAA;AACA,OAHA,EAIA,KAJA,CAIA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,eAAA,KAAA;AACA,OAPA;AAQA,MAAA,GAAA,CAAA,KAAA,CAAA,oBAAA,EAAA,KAAA,OAAA;AACA,MAAA,GAAA,CAAA,KAAA,CAAA,YAAA,EAAA,KAAA;AACA,KAvBA;AAwBA,IAAA,UAxBA,wBAwBA;AACA,MAAA,GAAA,CAAA,KAAA,CAAA,aAAA,EAAA,KAAA;AACA;AA1BA,IA9BA;AA4DA,EAAA,OA5DA,qBA4DA;AACA,SAAA,kBAAA;AACA,IAAA,GAAA,CAAA,GAAA,CAAA,WAAA,EAAA,KAAA,QAAA;AACA,IAAA,GAAA,CAAA,GAAA,CAAA,YAAA,EAAA,KAAA,eAAA;AAEA,GAjEA;AAmEA,EAAA,QAAA,oBACA,UAAA,CAAA,CACA,OADA,CAAA,CADA;AAnEA,CAAA","sourcesContent":["<template>\n  <div class=\"v-change-popup\">\n  <button class=\"close-button\" @click=\"closePopup\">X</button>\n  <div class=\"v-user-info\" v-if=\"userId !== null\">\n  <h1>Пользователь: {{USERS[userId].username}}</h1>\n  <p>Имя: {{USERS[userId].first_name}}</p>\n  </div>\n  <div class=\"v-new-user\" v-if=\"createNewUser\">\n    <h2>Добавить пользователя</h2>\n    <p>Id:<input v-model=\"newUser.id\"></p>\n    <p>Username:<input v-model=\"newUser.username\"></p>\n    <p>FirstName:<input v-model=\"newUser.first_name\"></p>\n    <p>LastName:<input v-model=\"newUser.last_name\"></p>\n    <p>E-mail:<input v-model=\"newUser.email\"></p>\n    <p>Userprofile.id:<input v-model=\"newUser.userprofile.id\"></p>\n    <p>Userprofile.position:<input v-model=\"newUser.userprofile.position\"></p>\n    <p>Userprofile.thirdname:<input v-model=\"newUser.userprofile.thirdname\"></p>\n    <p>Telephone:<input v-model=\"newUser.userprofile.telephone\"></p>\n    <p>Birthday:<input v-model=\"newUser.userprofile.birthday\"></p>\n    <p>Passport:<input v-model=\"newUser.userprofile.passport\"></p>\n    <p>User:<input v-model=\"newUser.userprofile.user\"></p>\n    <button @click=\"toAddNewUser\">Добавить</button>\n  </div>\n  </div>\n</template>\n\n<script>\nimport {mapActions,mapGetters} from 'vuex'\nimport { bus } from './bus.js'\nimport axios from 'axios'\n\nexport default {\n  name: 'v-change-popup',\n  components: {\n  },\n  props: {\n    },\n  data() {\n    return {\n      createNewUser: false,\n      userId: null,\n      newUser:{\n      \"id\": this.$store.state.users,\n      \"username\": null,\n      \"first_name\": null,\n      \"last_name\": null,\n      \"email\": null,\n      \"is_active\": null,\n      \"userprofile\": {\n        \"id\": null,\n        \"thirdname\": null,\n        \"position\": null,\n        \"telephone\": null,\n        \"birthday\": null,\n        \"passport\": null,\n        \"user\": null\n      }\n      },\n    }\n  },\n\n  methods:{\n    ...mapActions([\n       'GET_USERS_FROM_API'\n    ]),\n    getIndex(index){\n      this.userId = index;\n      console.log('Popup get', this.userId);\n    },\n    toCreateNewUser(data){\n    this.createNewUser = data;  \n    },\n    toAddNewUser(){\n      let user = this.newUser;\n      axios .post('http://localhost:3000/users',user) \n      .then(response => {\n        return response;\n      })\n      .catch((error) => {\n      console.log(error);  \n      return error;\n        });\n      bus.$emit('sendNewUserToTable',this.newUser);\n      bus.$emit('addNewUser',false);\n    },\n    closePopup(){\n    bus.$emit('closeWindow',false);  \n    }\n    \n  },\n  \n  mounted() {\n    this.GET_USERS_FROM_API();\n    bus.$on('sendIndex',this.getIndex); \n    bus.$on('addNewUser',this.toCreateNewUser);\n    \n  },\n\n  computed:{\n    ...mapGetters([\n      'USERS'\n    ]),\n  },\n}\n</script>\n\n<style lang=\"css\" scoped>\n.v-change-popup{\n display:block;\n width: 500px;\n z-index:999; \n border: 1px solid black;\n background: white; \nmargin: 20px auto 0 auto;\npadding: 20px;\nposition: relative;  \n}\n\n.close-button{\nposition: absolute;\nright: 10px;\ntop: 10px;  \n}\n</style>\n"],"sourceRoot":"src/components"}]}