{"remainingRequest":"/Users/vladislavkitaev/calendar_project_new/node_modules/babel-loader/lib/index.js!/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/vladislavkitaev/calendar_project_new/src/components/v-calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/vladislavkitaev/calendar_project_new/src/components/v-calendar.vue","mtime":1605715994244},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3ZsYWRpc2xhdmtpdGFldi9jYWxlbmRhcl9wcm9qZWN0X25ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBGdWxsQ2FsZW5kYXIgZnJvbSAnQGZ1bGxjYWxlbmRhci92dWUnOwppbXBvcnQgZGF5R3JpZFBsdWdpbiBmcm9tICdAZnVsbGNhbGVuZGFyL2RheWdyaWQnOwppbXBvcnQgaW50ZXJhY3Rpb25QbHVnaW4gZnJvbSAnQGZ1bGxjYWxlbmRhci9pbnRlcmFjdGlvbic7CmltcG9ydCBydUxvY2FsZSBmcm9tICdAZnVsbGNhbGVuZGFyL2NvcmUvbG9jYWxlcy9ydSc7CmltcG9ydCB0aW1lR3JpZFBsdWdpbiBmcm9tICdAZnVsbGNhbGVuZGFyL3RpbWVncmlkJzsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2Z1bGxDYWxlbmRhcicsCiAgY29tcG9uZW50czogewogICAgRnVsbENhbGVuZGFyOiBGdWxsQ2FsZW5kYXIgLy8gbWFrZSB0aGUgPEZ1bGxDYWxlbmRhcj4gdGFnIGF2YWlsYWJsZQoKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYWxlbmRhck9wdGlvbnM6IHsKICAgICAgICAvLwogICAgICAgIGhlaWdodDogJzEwMHZoJywKICAgICAgICAvL9Cy0YvRgdC+0YLQsCDQutCw0LvQtdC00LDRgNGPICjQv9C+INCy0YvRgdC+0YLQtSDQvtC60L3QsCkKICAgICAgICAvL9GN0YLQviDRgdGC0LjQu9C4CiAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSwKICAgICAgICAvLyDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINCy0YvQtNC10LvQtdC90LjRjyDQtNCw0YIKICAgICAgICBwbHVnaW5zOiBbZGF5R3JpZFBsdWdpbiwgdGltZUdyaWRQbHVnaW4sIGludGVyYWN0aW9uUGx1Z2luXSwKICAgICAgICBpbml0aWFsVmlldzogJ2RheUdyaWRNb250aCcsCiAgICAgICAgbG9jYWxlOiBydUxvY2FsZSwKICAgICAgICBldmVudHM6IFtdLAogICAgICAgIGRhdGVDbGljazogdGhpcy5oYW5kbGVEYXRlQ2xpY2ssCiAgICAgICAgZXZlbnRDbGljazogdGhpcy5oYW5kbGVFdmVudENsaWNrLAogICAgICAgIGhlYWRlclRvb2xiYXI6IHsKICAgICAgICAgIGxlZnQ6ICdwcmV2LG5leHQgdG9kYXknLAogICAgICAgICAgY2VudGVyOiAndGl0bGUnLAogICAgICAgICAgcmlnaHQ6ICdkYXlHcmlkTW9udGgsdGltZUdyaWRXZWVrLHRpbWVHcmlkRGF5JwogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ0dFVF9FVkVOVFMnLCAnR0VUX1JFRlJFU0gnXSkpLCB7fSwgewogICAgLy/RgdC+0LHRi9GC0LjQtSDQv9GA0Lgg0LrQu9C40LrQtSDQvdCwINC00LDRgtGDCiAgICBoYW5kbGVEYXRlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZURhdGVDbGljayhhcmcpIHsKICAgICAgLy9hbGVydCgnZGF0ZSBjbGljayEgJyArIGFyZy5kYXRlU3RyKQogICAgICB0aGlzLiRyZWZzLmZ1bGxDYWxlbmRhci5nZXRBcGkoKS5jaGFuZ2VWaWV3KCd0aW1lR3JpZERheScsIGFyZy5kYXRlKTsKICAgIH0sCiAgICAvL9GB0L7QsdGL0YLQuNC1INC/0YDQuCDQutC70LjQutC1INC90LAg0YLQsNGB0Log0LIg0LTQsNGC0LUKICAgIGhhbmRsZUV2ZW50Q2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUV2ZW50Q2xpY2soYXJnKSB7CiAgICAgIGFsZXJ0KCdFdmVudCBjbGljayEgJyArIGFyZy5ldmVudC50aXRsZSk7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5HRVRfRVZFTlRTKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMuY2FsZW5kYXJPcHRpb25zLmV2ZW50cyA9IF90aGlzLkVWRU5UUzsKCiAgICAgIGlmIChyZXNwb25zZS5yZXNwb25zZS5zdGF0dXMgPT0gNDAxKSB7CiAgICAgICAgX3RoaXMuR0VUX1JFRlJFU0goKSAvL9C80LXRgtC+0LQg0L/QvtC70YPRh9C10L3QuNGPINGA0LXRhNGA0LXRiNCwINC40Lcg0LDQv9C4CiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICBfdGhpcy5HRVRfRVZFTlRTKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnR290IGV2ZW50cyB0byBDYWxlbmRhcicsIF90aGlzLkVWRU5UUywgcmVzcG9uc2UpOwogICAgICAgICAgICAgIF90aGlzLmNhbGVuZGFyT3B0aW9ucy5ldmVudHMgPSBfdGhpcy5FVkVOVFM7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChyZXNwb25zZS5yZXNwb3NlLnN0YXR1cyA9PSA0MDEpIHsKICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnRVZFTlRTJ10pKQp9Ow=="},{"version":3,"sources":["v-calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA,OAAA,YAAA,MAAA,mBAAA;AACA,OAAA,aAAA,MAAA,uBAAA;AACA,OAAA,iBAAA,MAAA,2BAAA;AACA,OAAA,QAAA,MAAA,+BAAA;AACA,OAAA,cAAA,MAAA,wBAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA,YADA,CACA;;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,eAAA,EAAA;AACA;AACA,QAAA,MAAA,EAAA,OAFA;AAEA;AACA;AACA,QAAA,UAAA,EAAA,IAJA;AAIA;AACA,QAAA,OAAA,EAAA,CAAA,aAAA,EAAA,cAAA,EAAA,iBAAA,CALA;AAMA,QAAA,WAAA,EAAA,cANA;AAOA,QAAA,MAAA,EAAA,QAPA;AAQA,QAAA,MAAA,EAAA,EARA;AASA,QAAA,SAAA,EAAA,KAAA,eATA;AAUA,QAAA,UAAA,EAAA,KAAA,gBAVA;AAWA,QAAA,aAAA,EAAA;AACA,UAAA,IAAA,EAAA,iBADA;AAEA,UAAA,MAAA,EAAA,OAFA;AAGA,UAAA,KAAA,EAAA;AAHA;AAXA;AADA,KAAA;AAmBA,GAzBA;AA0BA,EAAA,OAAA,kCACA,UAAA,CAAA,CACA,YADA,EAEA,aAFA,CAAA,CADA;AAKA;AACA,IAAA,eAAA,EAAA,yBAAA,GAAA,EAAA;AACA;AACA,WAAA,KAAA,CAAA,YAAA,CAAA,MAAA,GAAA,UAAA,CAAA,aAAA,EAAA,GAAA,CAAA,IAAA;AACA,KATA;AAUA;AACA,IAAA,gBAAA,EAAA,0BAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,kBAAA,GAAA,CAAA,KAAA,CAAA,KAAA,CAAA;AACA;AAbA,IA1BA;AA0CA,EAAA,OA1CA,qBA0CA;AAAA;;AACA,SAAA,UAAA,GACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,MAAA,KAAA,CAAA,eAAA,CAAA,MAAA,GAAA,KAAA,CAAA,MAAA;;AACA,UAAA,QAAA,CAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA;AAAA,SACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,UAAA,GACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,wBAAA,EAAA,KAAA,CAAA,MAAA,EAAA,QAAA;AACA,cAAA,KAAA,CAAA,eAAA,CAAA,MAAA,GAAA,KAAA,CAAA,MAAA;AACA,aAJA;AAKA;;AACA,cAAA,QAAA,CAAA,OAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA,SAZA;AAaA;AACA,KAlBA;AAmBA,GA9DA;AAgEA,EAAA,OAhEA,qBAgEA,CACA,CAjEA;AAmEA,EAAA,QAAA,oBACA,UAAA,CAAA,CACA,QADA,CAAA,CADA;AAnEA,CAAA","sourcesContent":["<template>\n  <div  class=\"v-calendar\">\n  <FullCalendar \n  :options=\"calendarOptions\"\n  ref=\"fullCalendar\"\n  :selectable=\"true\"\n  />\n  </div>\n</template>\n\n\n<script>\nimport FullCalendar from '@fullcalendar/vue'\nimport dayGridPlugin from '@fullcalendar/daygrid'\nimport interactionPlugin from '@fullcalendar/interaction'\nimport ruLocale from '@fullcalendar/core/locales/ru'\nimport timeGridPlugin from '@fullcalendar/timegrid'\nimport {mapActions, mapGetters} from 'vuex';\nexport default {\n  name: 'fullCalendar',\n  components: {\n    FullCalendar // make the <FullCalendar> tag available\n  },\n  data() {\n    return {\n      calendarOptions: {\n        //\n        height: '100vh', //высота каледаря (по высоте окна)\n        //это стили\n        selectable: true, // возможность выделения дат\n        plugins: [ dayGridPlugin, timeGridPlugin,interactionPlugin ],\n        initialView: 'dayGridMonth',\n        locale: ruLocale,\n        events: [],\n        dateClick: this.handleDateClick,\n        eventClick: this.handleEventClick,\n        headerToolbar: {\n          left: 'prev,next today',\n          center: 'title',\n          right: 'dayGridMonth,timeGridWeek,timeGridDay'\n        },\n      }\n    }\n  },\n  methods: {\n    ...mapActions([\n    'GET_EVENTS',\n     'GET_REFRESH'\n  ]),\n  //событие при клике на дату\n    handleDateClick: function(arg) { \n      //alert('date click! ' + arg.dateStr)\n      this.$refs.fullCalendar.getApi().changeView('timeGridDay',arg.date)\n    },\n    //событие при клике на таск в дате\n    handleEventClick: function(arg) {\n      alert('Event click! ' + arg.event.title)\n    },\n  },\n\n  created() {\n  this.GET_EVENTS()\n  .then((response)=> {\n    this.calendarOptions.events = this.EVENTS;\n  if (response.response.status == 401){\n      this.GET_REFRESH() //метод получения рефреша из апи\n      .then((response) => {\n         if (response.status == 200){\n           this.GET_EVENTS()\n           .then((response)=> {\n             console.log('Got events to Calendar',this.EVENTS,response)   \n             this.calendarOptions.events = this.EVENTS;\n           })\n         }\n       if (response.respose.status == 401){\n          this.$router.push('/');\n         }\n      })\n      }\n      })\n  },\n\n  mounted(){\n  },\n  \n  computed: {\n    ...mapGetters([\n      'EVENTS'\n    ]),\n  },\n}\n</script>\n\n<style>\n.v-calendar{\nwidth: 100%;  \nbackground: white;\n};\n\n.fc-media-screen{\nheight: 100vh;  \n}\n\n</style>\n"],"sourceRoot":"src/components"}]}