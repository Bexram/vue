{"remainingRequest":"/Users/vladislavkitaev/calendar_project_new/node_modules/babel-loader/lib/index.js!/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/vladislavkitaev/calendar_project_new/src/components/v-table-users.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/vladislavkitaev/calendar_project_new/src/components/v-table-users.vue","mtime":1604708761986},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3ZsYWRpc2xhdmtpdGFldi9jYWxlbmRhcl9wcm9qZWN0X25ldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd2LXRhYmxlLXVzZXJzJywKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJzOiB7fSwKICAgICAgbmVlZElkOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ0dFVF9VU0VSU19GUk9NX0FQSScsICdERUxFVEVfVVNFUl9GUk9NX0FQSSddKSksIHt9LCB7CiAgICBkZWxldGVVc2VyOiBmdW5jdGlvbiBkZWxldGVVc2VyKG5lZWRJZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy51c2VySWQgPSBuZWVkSWQ7CiAgICAgIGNvbnNvbGUubG9nKCd1c2VyIGlkIGlzICcsIHRoaXMudXNlcklkKTsKICAgICAgdGhpcy5ERUxFVEVfVVNFUl9GUk9NX0FQSSh0aGlzLnVzZXJJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZygnVXNlciB3aXRoIGlkICcgKyBuZWVkSWQgKyAnIHdhcyBkZWxldGVkJyk7CgogICAgICAgIF90aGlzLkdFVF9VU0VSU19GUk9NX0FQSSgpOwoKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSwgJ1RhYmxlIGdvdCB1c2VycyBmcm9tIEFQSScpOwogICAgICB9KTsKICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5HRVRfVVNFUlNfRlJPTV9BUEkoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSwgJ1RhYmxlIGdvdCB1c2VycyBmcm9tIEFQSScpOwogICAgfSk7CiAgICBjb25zb2xlLmxvZygnVGFibGUgbW91bnRlZCcpOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuR0VUX1VTRVJTX0ZST01fQVBJKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UsICdUYWJsZSBnb3QgdXNlcnMgZnJvbSBBUEknKTsKICAgIH0pOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydVU0VSUyddKSkKfTs="},{"version":3,"sources":["v-table-users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAKA,EAAA,KAAA,EAAA,EALA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA;AAFA,KAAA;AAIA,GAXA;AAaA,EAAA,OAAA,kCACA,UAAA,CAAA,CACA,oBADA,EAEA,sBAFA,CAAA,CADA;AAKA,IAAA,UALA,sBAKA,MALA,EAKA;AAAA;;AACA,WAAA,MAAA,GAAA,MAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,aAAA,EAAA,KAAA,MAAA;AACA,WAAA,oBAAA,CAAA,KAAA,MAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,MAAA,GAAA,cAAA;;AACA,QAAA,KAAA,CAAA,kBAAA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,0BAAA;AACA,OALA;AAMA;AAdA,IAbA;AA8BA,EAAA,OA9BA,qBA8BA;AACA,SAAA,kBAAA,GACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,0BAAA;AACA,KAHA;AAIA,IAAA,OAAA,CAAA,GAAA,CAAA,eAAA;AAEA,GArCA;AAuCA,EAAA,OAvCA,qBAuCA;AACA,SAAA,kBAAA,GACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,0BAAA;AACA,KAHA;AAIA,GA5CA;AA8CA,EAAA,QAAA,oBACA,UAAA,CAAA,CACA,OADA,CAAA,CADA;AA9CA,CAAA","sourcesContent":["<template>\n  <div class=\"v-table-users\">\n    <table>\n    <tr>\n      <td>Пользователь</td>\n      <td>Имя</td>\n      <td>Фамилия</td>\n      <td>Отчество</td>\n      <td>Активный</td>\n      <td>E-mail</td>\n      <td>Должность</td>\n      <td>Телефон</td>\n      <td>Дата рождения</td>\n      <td>Изменить/удалить</td>\n    </tr>\n    <tr v-for=\"(user,index) in USERS\" :key=\"index\">\n        <td>{{ user.username }}, id:{{user.id}}</td>\n        <td>{{ user.first_name }}</td>\n        <td>{{ user.last_name }}</td>\n        <td>{{ user.thirdname }}</td>\n        <td>{{ user.is_active ? 'да' : 'нет' }}</td>\n        <td>{{ user.email }}</td>\n        <td>{{ user.position }}</td>\n        <td><a href=\"$user.telephone\">{{ user.telephone }}</a></td>\n        <td>{{ user.birthday }}</td>\n        <td>\n          <router-link :to=\"{name:'editUser',params: {userPos: index, editUser: true}}\">\n            <button \n            :disabled=\"user.username == 'bexram'\" \n            class=\"edit_btn\"\n            >Редактировать\n            </button>\n          </router-link>\n            <button \n            @click=\"deleteUser(user.id)\" \n            :disabled=\"user.username == 'bexram'\"\n            class=\"delete_btn\"\n            >Удалить\n            </button>\n        </td>\n      </tr>\n    </table>\n     <router-link :to=\"{name:'editUser',params: {createNewUser: true}}\">\n    <button class=\"btn\">Добавить пользователя</button>\n     </router-link>\n     <router-link :to=\"{name:'vAuthorisation'}\">\n     <button class=\"btn\">Авторизация</button>\n     </router-link>\n  </div>\n</template>\n\n<script>\nimport {mapActions, mapGetters} from 'vuex'\n\nexport default {\n  name: 'v-table-users',\n  components: {\n\n  },\n  props: {},\n  data() {\n    return {\n      users:{},\n      needId:'',\n    }\n  },\n\nmethods: {\n    ...mapActions([\n      'GET_USERS_FROM_API',\n      'DELETE_USER_FROM_API'\n    ]),    \n    deleteUser(needId){\n      this.userId = needId;\n      console.log('user id is ',this.userId);\n      this.DELETE_USER_FROM_API(this.userId)\n      .then((response) => {\n        console.log('User with id '+needId+ ' was deleted');\n        this.GET_USERS_FROM_API();\n      console.log(response,'Table got users from API');\n    })\n    } \n  },\n  \n  mounted() {\n    this.GET_USERS_FROM_API()\n    .then((response) => {\n      console.log(response,'Table got users from API');\n    })\n    console.log('Table mounted');\n    \n  },\n\n  created(){\n     this.GET_USERS_FROM_API()\n    .then((response) => {\n      console.log(response,'Table got users from API');\n    })\n  },\n\n  computed: {\n    ...mapGetters([\n      'USERS'\n    ]),\n  }\n\n}\n</script>\n\n<style lang=\"css\" scoped>\n.v-table-users{\nwidth: 100%;\nmax-width: 100%;\nz-index: 900;  \nposition: absolute;\ntop:0px;\n}\n\ntable{\nborder-spacing: 0px;\nmax-width: 100%;\nwidth: 100%; \nfont-weight: bold;\n}\n\ntr,td{\n  border:1px solid #9f752b;\n}\n\n.btn{\nborder-radius: 10px;\npadding: 10px;\nbackground: wheat;\nborder: none;\nfont-size: 20px;\ncolor: #9f752b ;  \nmargin: 0 10px;\nmargin-top: 10px;\n}\n\n.edit_btn{\nborder: none;\nbackground: wheat;\nfont-weight: bold;\ncolor: #9f752b;\npadding: 5px;\nmargin: 5px 5px;\nborder-radius: 5px;\n}\n\n.delete_btn{\nborder: none;\nbackground: #9f752b;\nfont-weight: bold;\ncolor: #fdf4e3;\npadding: 5px;\nmargin: 5px 5px;  \nborder-radius: 5px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}