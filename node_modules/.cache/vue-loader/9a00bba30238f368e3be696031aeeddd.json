{"remainingRequest":"/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/vladislavkitaev/calendar_project_new/src/components/v-calendar.vue?vue&type=style&index=0&id=35bae376&scoped=true&lang=css&","dependencies":[{"path":"/Users/vladislavkitaev/calendar_project_new/src/components/v-calendar.vue","mtime":1605424798451},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudi1jYWxlbmRhcnsKd2lkdGg6IDEwMCU7ICAKfTsKCi52LWNhbGVuZGFyIHRhYmxlewogIGJhY2tncm91bmQ6IHdoaXRlOwp9Cg=="},{"version":3,"sources":["v-calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;;AAEA;AACA;AACA","file":"v-calendar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div  class=\"v-calendar\">\n  <FullCalendar \n  :options=\"calendarOptions\"\n  ref=\"fullCalendar\"\n  />\n  </div>\n</template>\n\n\n<script>\nimport FullCalendar from '@fullcalendar/vue'\nimport dayGridPlugin from '@fullcalendar/daygrid'\nimport interactionPlugin from '@fullcalendar/interaction'\nimport ruLocale from '@fullcalendar/core/locales/ru'\nimport timeGridPlugin from '@fullcalendar/timegrid'\nimport axios from \"axios\";\n\nexport default {\n  name: 'fullCalendar',\n  components: {\n    FullCalendar // make the <FullCalendar> tag available\n  },\n  data() {\n    return {\n      calendarOptions: {\n        plugins: [ dayGridPlugin, timeGridPlugin,interactionPlugin ],\n        initialView: 'dayGridMonth',\n        locale: ruLocale,\n        events: [],\n        dateClick: this.handleDateClick,\n        eventClick: this.handleEventClick,\n        headerToolbar: {\n          left: 'prev,next today',\n          center: 'title',\n          right: 'dayGridMonth,timeGridWeek,timeGridDay'\n        },\n      }\n    }\n  },\n  methods: {\n    fetchEvents: function (self) {\n         let loadedEvents;\n\n            // обращаемся к бэкэнду для загрузки массива событий\n            axios.get('http://25.50.155.62:8000/tasks/').then(response => {\n                // получаем загруженные события и вызываем метод добавления их в календарь\n                loadedEvents = response.data;\n                loadedEvents.forEach(function (item){\n                  let ev={\n                       title: item.Task_name,\n                       date: item.task_published.split('.')[0]\n                         }\n                         console.log(ev)\n                 self.calendarOptions.events.push(ev)\n            })\n                }, response => {\n                // выводим ошибки в лог\n                console.log(response.body);\n            });\n            console.log(this.calendarOptions.events)\n        },\n\n\n    handleDateClick: function(arg) {\n      //alert('date click! ' + arg.dateStr)\n      this.$refs.fullCalendar.getApi().changeView('timeGridDay',arg.date)\n    },\n    handleEventClick: function(arg) {\n      alert('Event click! ' + arg.event.title)\n    },\n  },\n\n  mounted() {\nthis.fetchEvents(this)\n  }\n}\n</script>\n\n<style scoped>\n.v-calendar{\nwidth: 100%;  \n};\n\n.v-calendar table{\n  background: white;\n}\n</style>\n"]}]}