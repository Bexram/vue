{"remainingRequest":"/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/vladislavkitaev/calendar_project_new/src/components/v-change-popup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/vladislavkitaev/calendar_project_new/src/components/v-change-popup.vue","mtime":1604709577525},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwQWN0aW9ucywgbWFwR2V0dGVyc30gZnJvbSAndnVleCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndi1jaGFuZ2UtcG9wdXAnLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0eXBlRXJyb3I6IGZhbHNlLAogICAgICBuZXdVc2VyOnsKICAgICAgInVzZXJuYW1lIjogJycsCiAgICAgICJmaXJzdF9uYW1lIjogJycsCiAgICAgICJwYXNzd29yZCI6ICcnLAogICAgICAibGFzdF9uYW1lIjogJycsCiAgICAgICJlbWFpbCI6ICcnLAogICAgICAiaXNfYWN0aXZlIjogJzEnLAogICAgICAidGhpcmRuYW1lIjogJycsCiAgICAgICJwb3NpdGlvbiI6ICcnLAogICAgICAidGVsZXBob25lIjogJycsCiAgICAgICJiaXJ0aGRheSI6ICcnLAogICAgICAicGFzc3BvcnQiOiAnJywKICAgICAgInVzZXIiOiAnJywKICAgICAgInN0YXR1cyI6ICcxJywKICAgICAgImlzX3N0YWZmIjogJzAnLAogICAgICB9LAogICAgfQogIH0sCiAgcHJvcHM6WwogICAgJ3VzZXJQb3MnLAogICAgJ2VkaXRVc2VyJywKICAgICdjcmVhdGVOZXdVc2VyJwogICAgXSwKCiAgbWV0aG9kczp7CiAgICAuLi5tYXBBY3Rpb25zKFsKICAgICAgJ0dFVF9VU0VSU19GUk9NX0FQSScsCiAgICAgICdBRERfVVNFUl9UT19BUEknLAogICAgICAnQ0hBTkdFX1VTRVJfSU5fQVBJJwogICAgXSksCiAgICBhZGROZXdVc2VyKCl7CiAgICAgIGlmKCh0aGlzLm5ld1VzZXIuYmlydGhkYXlbNF0gIT09ICctJykgKyAodGhpcy5uZXdVc2VyLmJpcnRoZGF5WzddIT09ICctJykpewogICAgICB0aGlzLnR5cGVFcnJvciA9IHRydWU7ICAKICAgICAgfQogICAgICBlbHNlIHRoaXMudHlwZUVycm9yID0gZmFsc2U7CiAgICAgIGlmICh0aGlzLnR5cGVFcnJvcil7CiAgICAgIGFsZXJ0KCfQo9C60LDQttC40YLQtSDQtNCw0YLRgyDRgNC+0LbQtNC10L3QuNGPINCyINC/0YDQsNCy0LjQu9GM0L3QvtC8INGE0L7RgNC80LDRgtC1IScpOwogICAgICB9CiAgICAgIGVsc2UgewogICAgICBsZXQgdXNlciA9IHRoaXMubmV3VXNlcjsKICAgICAgdGhpcy5BRERfVVNFUl9UT19BUEkodXNlcik7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJykKICAgICAgfQogIH0sCiAgICBlZGl0UHJvZmlsZShkYXRhKXsKICAgICAgbGV0IGNoYW5naW5nUGFyYW1ldGVycyA9IGRhdGE7CiAgICAgIHRoaXMuQ0hBTkdFX1VTRVJfSU5fQVBJKGNoYW5naW5nUGFyYW1ldGVycyk7CiAgICAgIGNvbnNvbGUubG9nKCdjaGFuZ2luZyB1c2VyIGlzICcsY2hhbmdpbmdQYXJhbWV0ZXJzLmlkKTsKICAgIH0KICAvLyAgZWRpdFVzZXIoKXsKCiAgICAvL30KICB9LAogIAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLkdFVF9VU0VSU19GUk9NX0FQSSgpCiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWwogICAgICAnVVNFUlMnCiAgICBdKQogIH0KfQo="},{"version":3,"sources":["v-change-popup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"v-change-popup.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"v-change-popup\">\n    <router-link :to=\"{name:'vTableUsers'}\">\n    <button class=\"close-button\">X</button>\n    </router-link>\n    <div class=\"v-user-info\" v-if=\"editUser\">\n    <div class=\"edit_field\">\n    <p>Пользователь: {{USERS[userPos].username}}</p>\n    <p>Никнейм: <input class=\"edit_input\" v-model=\"USERS[userPos].username\"></p>\n    <p>Имя: <input class=\"edit_input\" v-model=\"USERS[userPos].first_name\"></p>\n    <p>Фамилия: <input class=\"edit_input\" v-model=\"USERS[userPos].last_name\"></p>\n    <p>Отчество: <input class=\"edit_input\" v-model=\"USERS[userPos].thirdname\"></p>\n    <p>Email: <input class=\"edit_input\" v-model=\"USERS[userPos].email\"></p>\n    <p>Должность: <input class=\"edit_input\" v-model=\"USERS[userPos].position\"></p>\n    <p>Дата рождения: <input class=\"edit_input\" v-model=\"USERS[userPos].birthday\"></p>\n    <p>Телефон: <input class=\"edit_input\" v-model=\"USERS[userPos].telephone\"></p>\n    <p>Паспорт: <input class=\"edit_input\" v-model=\"USERS[userPos].passport\"></p>\n     <router-link :to=\"{name:'vTableUsers'}\">\n    <button \n    @click=\"editProfile(USERS[userPos],USERS[userPos].id)\"\n    class=\"btn\"\n    >Сохранить\n    </button>\n     </router-link>\n     </div>\n\n  </div>\n  <div class=\"v-new-user\" v-if=\"createNewUser\">\n    <h2>Добавить пользователя</h2>\n    <p>Username: <input v-model=\"newUser.username\"></p>\n    <p>FirstName: <input v-model=\"newUser.first_name\"></p>\n    <p>Password: <input v-model=\"newUser.password\"></p>\n    <p>LastName: <input v-model=\"newUser.last_name\"></p>\n    <p>E-mail: <input v-model=\"newUser.email\"></p>\n    <p>position: <input v-model=\"newUser.position\"></p>\n    <p>thirdname: <input v-model=\"newUser.thirdname\"></p>\n    <p>Telephone: <input v-model=\"newUser.telephone\"></p>\n    <p>Birthday: <input v-model=\"newUser.birthday\" placeholder=\"YYYY-MM-DD\"></p>\n    <p>Passport: <input v-model=\"newUser.passport\"></p>\n    <p>User: <input v-model=\"newUser.user\"></p>\n    <!-- Router is in method addUser() -->\n    <button \n    @click=\"addNewUser\"\n    class=\"btn\"\n    >Добавить\n    </button>\n    \n  </div>\n  </div>\n</template>\n\n<script>\nimport {mapActions, mapGetters} from 'vuex'\n\nexport default {\n  name: 'v-change-popup',\n  components: {},\n  data() {\n    return {\n      typeError: false,\n      newUser:{\n      \"username\": '',\n      \"first_name\": '',\n      \"password\": '',\n      \"last_name\": '',\n      \"email\": '',\n      \"is_active\": '1',\n      \"thirdname\": '',\n      \"position\": '',\n      \"telephone\": '',\n      \"birthday\": '',\n      \"passport\": '',\n      \"user\": '',\n      \"status\": '1',\n      \"is_staff\": '0',\n      },\n    }\n  },\n  props:[\n    'userPos',\n    'editUser',\n    'createNewUser'\n    ],\n\n  methods:{\n    ...mapActions([\n      'GET_USERS_FROM_API',\n      'ADD_USER_TO_API',\n      'CHANGE_USER_IN_API'\n    ]),\n    addNewUser(){\n      if((this.newUser.birthday[4] !== '-') + (this.newUser.birthday[7]!== '-')){\n      this.typeError = true;  \n      }\n      else this.typeError = false;\n      if (this.typeError){\n      alert('Укажите дату рождения в правильном формате!');\n      }\n      else {\n      let user = this.newUser;\n      this.ADD_USER_TO_API(user);\n      this.$router.push('/')\n      }\n  },\n    editProfile(data){\n      let changingParameters = data;\n      this.CHANGE_USER_IN_API(changingParameters);\n      console.log('changing user is ',changingParameters.id);\n    }\n  //  editUser(){\n\n    //}\n  },\n  \n  mounted() {\n    this.GET_USERS_FROM_API()\n  },\n\n  computed: {\n    ...mapGetters([\n      'USERS'\n    ])\n  }\n}\n</script>\n\n<style lang=\"css\" scoped>\n.v-change-popup{\n display:block;\n width: 500px;\n z-index:999; \n border: 1px solid black;\n background: white; \nmargin: 20px auto 0 auto;\npadding: 20px;\nposition: relative;  \n}\n\n.close-button{\nposition: absolute;\nright: 10px;\ntop: 10px;  \n}\n\ninput:focus{\n  outline: 1px solid #9f752b;\n\n}\n\n.edit_field{\ndisplay: flex;\nflex-direction: column;  \njustify-content: space-between;\n}\n\n.edit_field p{\nmargin: 0;\n}\n\n.edit_input{\ndisplay: inline;  \n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .5s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active до версии 2.1.8 */ {\n  opacity: 0;\n}\n\n.btn{\nborder-radius: 10px;\npadding: 10px;\nbackground: wheat;\nborder: none;\nfont-size: 20px;\ncolor: #9f752b ;  \nmargin: 0 10px;\nmargin-top: 10px;\n}\n</style>\n"]}]}