{"remainingRequest":"/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/vladislavkitaev/calendar_project_new/src/components/v-calendar.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/vladislavkitaev/calendar_project_new/src/components/v-calendar.vue","mtime":1605715994244},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi52LWNhbGVuZGFyewp3aWR0aDogMTAwJTsgIApiYWNrZ3JvdW5kOiB3aGl0ZTsKfTsKCi5mYy1tZWRpYS1zY3JlZW57CmhlaWdodDogMTAwdmg7ICAKfQoK"},{"version":3,"sources":["v-calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"v-calendar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div  class=\"v-calendar\">\n  <FullCalendar \n  :options=\"calendarOptions\"\n  ref=\"fullCalendar\"\n  :selectable=\"true\"\n  />\n  </div>\n</template>\n\n\n<script>\nimport FullCalendar from '@fullcalendar/vue'\nimport dayGridPlugin from '@fullcalendar/daygrid'\nimport interactionPlugin from '@fullcalendar/interaction'\nimport ruLocale from '@fullcalendar/core/locales/ru'\nimport timeGridPlugin from '@fullcalendar/timegrid'\nimport {mapActions, mapGetters} from 'vuex';\nexport default {\n  name: 'fullCalendar',\n  components: {\n    FullCalendar // make the <FullCalendar> tag available\n  },\n  data() {\n    return {\n      calendarOptions: {\n        //\n        height: '100vh', //высота каледаря (по высоте окна)\n        //это стили\n        selectable: true, // возможность выделения дат\n        plugins: [ dayGridPlugin, timeGridPlugin,interactionPlugin ],\n        initialView: 'dayGridMonth',\n        locale: ruLocale,\n        events: [],\n        dateClick: this.handleDateClick,\n        eventClick: this.handleEventClick,\n        headerToolbar: {\n          left: 'prev,next today',\n          center: 'title',\n          right: 'dayGridMonth,timeGridWeek,timeGridDay'\n        },\n      }\n    }\n  },\n  methods: {\n    ...mapActions([\n    'GET_EVENTS',\n     'GET_REFRESH'\n  ]),\n  //событие при клике на дату\n    handleDateClick: function(arg) { \n      //alert('date click! ' + arg.dateStr)\n      this.$refs.fullCalendar.getApi().changeView('timeGridDay',arg.date)\n    },\n    //событие при клике на таск в дате\n    handleEventClick: function(arg) {\n      alert('Event click! ' + arg.event.title)\n    },\n  },\n\n  created() {\n  this.GET_EVENTS()\n  .then((response)=> {\n    this.calendarOptions.events = this.EVENTS;\n  if (response.response.status == 401){\n      this.GET_REFRESH() //метод получения рефреша из апи\n      .then((response) => {\n         if (response.status == 200){\n           this.GET_EVENTS()\n           .then((response)=> {\n             console.log('Got events to Calendar',this.EVENTS,response)   \n             this.calendarOptions.events = this.EVENTS;\n           })\n         }\n       if (response.respose.status == 401){\n          this.$router.push('/');\n         }\n      })\n      }\n      })\n  },\n\n  mounted(){\n  },\n  \n  computed: {\n    ...mapGetters([\n      'EVENTS'\n    ]),\n  },\n}\n</script>\n\n<style>\n.v-calendar{\nwidth: 100%;  \nbackground: white;\n};\n\n.fc-media-screen{\nheight: 100vh;  \n}\n\n</style>\n"]}]}