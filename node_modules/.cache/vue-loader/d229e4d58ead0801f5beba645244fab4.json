{"remainingRequest":"/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/vladislavkitaev/calendar_project_new/src/components/v-calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/vladislavkitaev/calendar_project_new/src/components/v-calendar.vue","mtime":1605715994244},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladislavkitaev/calendar_project_new/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBGdWxsQ2FsZW5kYXIgZnJvbSAnQGZ1bGxjYWxlbmRhci92dWUnCmltcG9ydCBkYXlHcmlkUGx1Z2luIGZyb20gJ0BmdWxsY2FsZW5kYXIvZGF5Z3JpZCcKaW1wb3J0IGludGVyYWN0aW9uUGx1Z2luIGZyb20gJ0BmdWxsY2FsZW5kYXIvaW50ZXJhY3Rpb24nCmltcG9ydCBydUxvY2FsZSBmcm9tICdAZnVsbGNhbGVuZGFyL2NvcmUvbG9jYWxlcy9ydScKaW1wb3J0IHRpbWVHcmlkUGx1Z2luIGZyb20gJ0BmdWxsY2FsZW5kYXIvdGltZWdyaWQnCmltcG9ydCB7bWFwQWN0aW9ucywgbWFwR2V0dGVyc30gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZnVsbENhbGVuZGFyJywKICBjb21wb25lbnRzOiB7CiAgICBGdWxsQ2FsZW5kYXIgLy8gbWFrZSB0aGUgPEZ1bGxDYWxlbmRhcj4gdGFnIGF2YWlsYWJsZQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhbGVuZGFyT3B0aW9uczogewogICAgICAgIC8vCiAgICAgICAgaGVpZ2h0OiAnMTAwdmgnLCAvL9Cy0YvRgdC+0YLQsCDQutCw0LvQtdC00LDRgNGPICjQv9C+INCy0YvRgdC+0YLQtSDQvtC60L3QsCkKICAgICAgICAvL9GN0YLQviDRgdGC0LjQu9C4CiAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSwgLy8g0LLQvtC30LzQvtC20L3QvtGB0YLRjCDQstGL0LTQtdC70LXQvdC40Y8g0LTQsNGCCiAgICAgICAgcGx1Z2luczogWyBkYXlHcmlkUGx1Z2luLCB0aW1lR3JpZFBsdWdpbixpbnRlcmFjdGlvblBsdWdpbiBdLAogICAgICAgIGluaXRpYWxWaWV3OiAnZGF5R3JpZE1vbnRoJywKICAgICAgICBsb2NhbGU6IHJ1TG9jYWxlLAogICAgICAgIGV2ZW50czogW10sCiAgICAgICAgZGF0ZUNsaWNrOiB0aGlzLmhhbmRsZURhdGVDbGljaywKICAgICAgICBldmVudENsaWNrOiB0aGlzLmhhbmRsZUV2ZW50Q2xpY2ssCiAgICAgICAgaGVhZGVyVG9vbGJhcjogewogICAgICAgICAgbGVmdDogJ3ByZXYsbmV4dCB0b2RheScsCiAgICAgICAgICBjZW50ZXI6ICd0aXRsZScsCiAgICAgICAgICByaWdodDogJ2RheUdyaWRNb250aCx0aW1lR3JpZFdlZWssdGltZUdyaWREYXknCiAgICAgICAgfSwKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbCiAgICAnR0VUX0VWRU5UUycsCiAgICAgJ0dFVF9SRUZSRVNIJwogIF0pLAogIC8v0YHQvtCx0YvRgtC40LUg0L/RgNC4INC60LvQuNC60LUg0L3QsCDQtNCw0YLRgwogICAgaGFuZGxlRGF0ZUNsaWNrOiBmdW5jdGlvbihhcmcpIHsgCiAgICAgIC8vYWxlcnQoJ2RhdGUgY2xpY2shICcgKyBhcmcuZGF0ZVN0cikKICAgICAgdGhpcy4kcmVmcy5mdWxsQ2FsZW5kYXIuZ2V0QXBpKCkuY2hhbmdlVmlldygndGltZUdyaWREYXknLGFyZy5kYXRlKQogICAgfSwKICAgIC8v0YHQvtCx0YvRgtC40LUg0L/RgNC4INC60LvQuNC60LUg0L3QsCDRgtCw0YHQuiDQsiDQtNCw0YLQtQogICAgaGFuZGxlRXZlbnRDbGljazogZnVuY3Rpb24oYXJnKSB7CiAgICAgIGFsZXJ0KCdFdmVudCBjbGljayEgJyArIGFyZy5ldmVudC50aXRsZSkKICAgIH0sCiAgfSwKCiAgY3JlYXRlZCgpIHsKICB0aGlzLkdFVF9FVkVOVFMoKQogIC50aGVuKChyZXNwb25zZSk9PiB7CiAgICB0aGlzLmNhbGVuZGFyT3B0aW9ucy5ldmVudHMgPSB0aGlzLkVWRU5UUzsKICBpZiAocmVzcG9uc2UucmVzcG9uc2Uuc3RhdHVzID09IDQwMSl7CiAgICAgIHRoaXMuR0VUX1JFRlJFU0goKSAvL9C80LXRgtC+0LQg0L/QvtC70YPRh9C10L3QuNGPINGA0LXRhNGA0LXRiNCwINC40Lcg0LDQv9C4CiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCl7CiAgICAgICAgICAgdGhpcy5HRVRfRVZFTlRTKCkKICAgICAgICAgICAudGhlbigocmVzcG9uc2UpPT4gewogICAgICAgICAgICAgY29uc29sZS5sb2coJ0dvdCBldmVudHMgdG8gQ2FsZW5kYXInLHRoaXMuRVZFTlRTLHJlc3BvbnNlKSAgIAogICAgICAgICAgICAgdGhpcy5jYWxlbmRhck9wdGlvbnMuZXZlbnRzID0gdGhpcy5FVkVOVFM7CiAgICAgICAgICAgfSkKICAgICAgICAgfQogICAgICAgaWYgKHJlc3BvbnNlLnJlc3Bvc2Uuc3RhdHVzID09IDQwMSl7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgICB9CiAgICAgIH0pCiAgICAgIH0KICAgICAgfSkKICB9LAoKICBtb3VudGVkKCl7CiAgfSwKICAKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbCiAgICAgICdFVkVOVFMnCiAgICBdKSwKICB9LAp9Cg=="},{"version":3,"sources":["v-calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"v-calendar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div  class=\"v-calendar\">\n  <FullCalendar \n  :options=\"calendarOptions\"\n  ref=\"fullCalendar\"\n  :selectable=\"true\"\n  />\n  </div>\n</template>\n\n\n<script>\nimport FullCalendar from '@fullcalendar/vue'\nimport dayGridPlugin from '@fullcalendar/daygrid'\nimport interactionPlugin from '@fullcalendar/interaction'\nimport ruLocale from '@fullcalendar/core/locales/ru'\nimport timeGridPlugin from '@fullcalendar/timegrid'\nimport {mapActions, mapGetters} from 'vuex';\nexport default {\n  name: 'fullCalendar',\n  components: {\n    FullCalendar // make the <FullCalendar> tag available\n  },\n  data() {\n    return {\n      calendarOptions: {\n        //\n        height: '100vh', //высота каледаря (по высоте окна)\n        //это стили\n        selectable: true, // возможность выделения дат\n        plugins: [ dayGridPlugin, timeGridPlugin,interactionPlugin ],\n        initialView: 'dayGridMonth',\n        locale: ruLocale,\n        events: [],\n        dateClick: this.handleDateClick,\n        eventClick: this.handleEventClick,\n        headerToolbar: {\n          left: 'prev,next today',\n          center: 'title',\n          right: 'dayGridMonth,timeGridWeek,timeGridDay'\n        },\n      }\n    }\n  },\n  methods: {\n    ...mapActions([\n    'GET_EVENTS',\n     'GET_REFRESH'\n  ]),\n  //событие при клике на дату\n    handleDateClick: function(arg) { \n      //alert('date click! ' + arg.dateStr)\n      this.$refs.fullCalendar.getApi().changeView('timeGridDay',arg.date)\n    },\n    //событие при клике на таск в дате\n    handleEventClick: function(arg) {\n      alert('Event click! ' + arg.event.title)\n    },\n  },\n\n  created() {\n  this.GET_EVENTS()\n  .then((response)=> {\n    this.calendarOptions.events = this.EVENTS;\n  if (response.response.status == 401){\n      this.GET_REFRESH() //метод получения рефреша из апи\n      .then((response) => {\n         if (response.status == 200){\n           this.GET_EVENTS()\n           .then((response)=> {\n             console.log('Got events to Calendar',this.EVENTS,response)   \n             this.calendarOptions.events = this.EVENTS;\n           })\n         }\n       if (response.respose.status == 401){\n          this.$router.push('/');\n         }\n      })\n      }\n      })\n  },\n\n  mounted(){\n  },\n  \n  computed: {\n    ...mapGetters([\n      'EVENTS'\n    ]),\n  },\n}\n</script>\n\n<style>\n.v-calendar{\nwidth: 100%;  \nbackground: white;\n};\n\n.fc-media-screen{\nheight: 100vh;  \n}\n\n</style>\n"]}]}